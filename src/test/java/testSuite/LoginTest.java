package testSuite;

import org.junit.jupiter.api.*;
import page.LoginPage;
import page.MenuSection;
import page.WelcomeSection;
import session.Session;

public class LoginTest {
    WelcomeSection welcomeSection = new WelcomeSection();
    MenuSection menuSection = new MenuSection();
    LoginPage loginPage = new LoginPage();

    @BeforeEach
    public void openBrowser() {
        Session.getSession().getBrowser().get("https://juice-shop.herokuapp.com/"); }

    @Order(1)
    @Test
    public void loginTest() {
        welcomeSection.dismissButton.click();
        menuSection.accountButton.click();
        menuSection.loginButton.click();
        loginPage.emailTxtBox.setText("prueba_email@prueba.com");
        loginPage.passwordTxtBox.setText("12345");
        loginPage.loginButton.click();
        Assertions.assertTrue(menuSection.yourBasketButton.isControlDisplayed());
    }

    @AfterEach
    public void closeBrowser() {
        Session.getSession().closeSession();
    }
}
